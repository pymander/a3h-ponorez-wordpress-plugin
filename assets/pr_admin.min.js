function prDeleteGroups(){var a=jQuery(".pr_group_name:checked").map(function(b,c){return jQuery(c).attr("pr-group-name")});if(0==a.length){return false}jQuery.get(ajaxurl,{action:"pr_delete_groups",groups:a.toArray()},function(b){prUpdateActivityList()})}function prAddGroup(){var a=jQuery(".pr_activity_id:checked").map(function(c,d){return jQuery(d).attr("pr-activity-id")});var b=jQuery("#pr_group_name").val();if(0==a.length){alert("Please select activities first.");return}if(!b){alert("Please enter a group name first.");return}jQuery.get(ajaxurl,{action:"pr_store_group",idlist:a.toArray(),groupname:b},function(c){if(true==c.success){prUpdateActivityList()}else{console.log(c.message)}})}function prUpdateActivityList(a){if(!a){a=new Object()}var b=a;b.action="pr_activity_list";jQuery.get(ajaxurl,b,function(c){jQuery("#prActivityTable").html(c)})}jQuery(document).ready(function(){prUpdateActivityList();jQuery(document).on("click","#pr_add_group",function(a){prAddGroup()});jQuery(document).on("click","#pr_refresh",function(a){prUpdateActivityList()});jQuery(document).on("click","#pr_delete_groups",function(a){prDeleteGroups()});jQuery(document).on("click","#pra_filter_go",function(c){var b=jQuery("#pra_activity_filter").val();var a={pra_filter:b};prUpdateActivityList(a)});jQuery(document).on("click","#pra_prev_page",function(c){var b=jQuery("#pra_activity_filter").val();var a={pra_filter:b,pra_page:jQuery("#pra_prev_page").attr("data-page"),pra_count:jQuery("#pra_prev_page").attr("data-count")};prUpdateActivityList(a)});jQuery(document).on("click","#pra_next_page",function(c){var b=jQuery("#pra_activity_filter").val();var a={pra_filter:b,pra_page:jQuery("#pra_next_page").attr("data-page"),pra_count:jQuery("#pra_next_page").attr("data-count")};prUpdateActivityList(a)})});